<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Profile | CozyCorner</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/layout.css">
  <link rel="stylesheet" href="css/pages.css">
  <link rel="stylesheet" href="css/component.css">

</head>

<body>

<!-- ================= HEADER ================= -->
<header class="header">
  <div class="logo">
    <a href="index.html">CozyCorner</a>
  </div>

  <nav class="nav">
    <a href="index.html">Home</a>
    <a href="shop.html">Shop</a>
    <a href="cart.html">Cart</a>
    <a href="profile.html" class="active">Profile</a>
  </nav>
</header>

<!-- ================= PROFILE ================= -->
<section class="profile-page">
  <h2>My Profile</h2>

  <div class="profile-card">

    <label for="accountName">Name</label>
    <input type="text" id="accountName" placeholder="Enter name">

    <label for="accountEmail">Email</label>
    <input type="email" id="accountEmail" placeholder="Enter email">

    <label for="accountAddress">Address</label>
    <textarea
      id="accountAddress"
      placeholder="Enter your address"
      rows="2"></textarea>

    <div class="profile-actions">
      <button
        type="button"
        class="btn-primary"
        onclick="saveProfile()">
        Update Profile
      </button>

      <button
        type="button"
        class="btn-primary logout-btn"
        onclick="logoutUser()">
        Logout
      </button>
    </div>

  </div>
</section>

<!-- ================= FOOTER ================= -->
<footer class="footer">
  <div class="footer-grid">

    <div>
      <h4>CozyCorner</h4>
      <p>Modern furniture designed for comfort and style.</p>
    </div>

    <div>
      <h4>Shop</h4>
      <a href="shop.html">All Products</a>
      <a href="shop.html?category=sofa">Sofas</a>
      <a href="shop.html?category=bed">Beds</a>
      <a href="shop.html?category=decor">Decor</a>
    </div>

    <div>
      <h4>Support</h4>
      <a href="contact.html">Contact Us</a>
      <a href="help.html">Help Center</a>
      <a href="delivery.html">Delivery</a>
    </div>

    <div>
      <h4>Legal</h4>
      <a href="privacy.html">Privacy Policy</a>
      <a href="terms.html">Terms & Conditions</a>
    </div>

  </div>

  <p class="footer-bottom">Â© 2026 CozyCorner. All rights reserved.</p>
</footer>

<!-- ================= TOAST ================= -->
<div id="toast" class="toast"></div>

<!-- ================= SCRIPT ================= -->
<script>
/* ---------- LOAD PROFILE ---------- */
function loadProfile() {
  const user = JSON.parse(localStorage.getItem("user"));
  const profile = JSON.parse(localStorage.getItem("profile"));

  if (user) {
    document.getElementById("accountName").value = user.name || "";
    document.getElementById("accountEmail").value = user.email || "";
  }

  if (profile) {
    document.getElementById("accountAddress").value = profile.address || "";
  }
}

/* ---------- SAVE PROFILE ---------- */
function saveProfile() {
  const user = JSON.parse(localStorage.getItem("user")) || {};

  user.name = document.getElementById("accountName").value;
  user.email = document.getElementById("accountEmail").value;

  localStorage.setItem("user", JSON.stringify(user));

  const profile = {
    address: document.getElementById("accountAddress").value
  };

  localStorage.setItem("profile", JSON.stringify(profile));

  showToast("Profile updated successfully");
}

/* ---------- LOGOUT ---------- */
function logoutUser() {
  localStorage.removeItem("isLoggedIn");
  localStorage.removeItem("profile"); // optional
  window.location.href = "login.html";
}

/* ---------- TOAST ---------- */
function showToast(message) {
  const toast = document.getElementById("toast");
  toast.textContent = message;
  toast.classList.add("show");

  setTimeout(() => {
    toast.classList.remove("show");
  }, 3000);
}

/* ---------- INIT ---------- */
loadProfile();
</script>

</body>
</html>
